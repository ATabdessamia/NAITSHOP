(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a(30),n=a.n(s),c=a(7),i=a(10),o=a(24),l=a(1),d=function(){return Object(l.jsx)("footer",{className:"border-t border-green-100 bg-green-100 opacity-50",children:Object(l.jsx)("div",{className:"mx-auto w-3/4",children:Object(l.jsx)("div",{className:"grid grid-rows-1",children:Object(l.jsx)("div",{className:"grid grid-cols-1 text-center py-3",children:"Copyright \xa9 NAITSHOP"})})})})},u=a(13),p=function(e){var t=e.burger,a=e.onClick;return Object(l.jsx)("button",{className:"p-1 text-green-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-100 transition-transform duration-300 ease-in-out transform hover:scale-110 border border-green-100 bg-green-700",onClick:a,children:t?Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}):Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})},x=function(e){var t=e.dropDown,a=e.className,r=e.dropHidden,s=e.text,n=e.onClick,c=e.isAdmin;return Object(l.jsxs)("div",{className:"relative",children:[Object(l.jsxs)("div",{className:a,onClick:t,children:[Object(l.jsx)("span",{children:s}),Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),Object(l.jsxs)("div",{className:"bg-gray-100 rounded-md w-44 md:w-36 lg:w-44 shadow-md absolute top-8 left-2 z-30  text-sm ".concat(r," border border-gray-300 text-gray-600"),children:[c&&Object(l.jsxs)("span",{className:"border-gray-300 border-b max-w-full flex flex-col w-full py-1 items-start",children:[Object(l.jsx)(i.b,{to:"/admin/userList",className:"w-full mt-1 hover:bg-gray-300 p-2",children:"users"}),Object(l.jsx)(i.b,{to:"/admin/productList",className:"w-full  hover:bg-gray-300 p-2",children:"products"}),Object(l.jsx)(i.b,{to:"/admin/orderList",className:"w-full mb-1 hover:bg-gray-300 p-2",children:"orders"})]}),Object(l.jsxs)("span",{className:"flex flex-col w-full max-w-full py-1 items-start",children:[Object(l.jsx)(i.b,{to:"/profile",className:"w-full mt-1 hover:bg-gray-300 p-2",children:"profile"}),Object(l.jsx)(i.b,{to:"/",className:"w-full mb-1 hover:bg-gray-300 p-2",onClick:n,children:"logout"})]})]})]})},j=function(e){var t=e.onClick;return Object(l.jsx)(i.b,{to:"/",onClick:t,children:"NAITSHOP"})},m=function(e){var t=e.to,a=e.text,r=e.svg,s=e.className,n=e.onClick;return Object(l.jsxs)(i.b,{to:t,className:s,onClick:n,children:[Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:r})}),Object(l.jsx)("span",{children:a})]})},b=function(e){var t=e.text,a=e.className;return Object(l.jsx)("button",{type:"submit",className:a,children:t})};b.defaultProps={className:"bg-green-900 opacity-90 text-green-100 uppercase px-6 py-3 md:py-2 md:px-4 lg:py-3 lg:px-6 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-200 hover:opacity-100 inline-block text-sm my-2 text-center transition-colors ease-in-out"};var g=b,f=function(e){var t=e.history,a=e.responsive,s=Object(r.useState)(""),n=Object(u.a)(s,2),c=n[0],i=n[1];return Object(l.jsxs)("form",{className:"md:text-xs items-center shadow-sm overflow-hidden ".concat(a," ml-4 md:ml-0"),onSubmit:function(e){e.preventDefault(),c.trim()?t.push("/search/".concat(c)):t.push("/")},children:[Object(l.jsx)("input",{className:"font-normal text-green-900 bg-gray-100 bg-clip-padding border-0 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-700 transition-colors ease-in-out p-2 rounded-tl rounded-bl",name:"q",type:"text",placeholder:"Search Products...",value:c,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)(g,{text:"search",className:"bg-green-900 opacity-90 text-green-50 uppercase p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-700 hover:opacity-100 inline-block text-center transition-colors ease-in-out rounded-tr rounded-br"})]})},h=a(8),O=a.n(h),y=a(20),v=a(21),w=a.n(v),N="ORDER_CREATE_REQUEST",E="ORDER_CREATE_SUCCESS",S="ORDER_CREATE_FAIL",k="ORDER_CREATE_RESET",C="ORDER_DETAILS_REQUEST",_="ORDER_DETAILS_SUCCESS",R="ORDER_DETAILS_FAIL",I="ORDER_PAY_REQUEST",A="ORDER_PAY_SUCCESS",T="ORDER_PAY_FAIL",P="ORDER_PAY_RESET",L="ORDER_LIST_MY_REQUEST",D="ORDER_LIST_MY_SUCCESS",U="ORDER_LIST_MY_FAIL",z="ORDER_LIST_MY_RESET",M="ORDER_LIST_REQUEST",F="ORDER_LIST_SUCCESS",H="ORDER_LIST_FAIL",B="ORDER_DELIVER_REQUEST",q="ORDER_DELIVER_SUCCESS",Q="ORDER_DELIVER_FAIL",V="ORDER_DELIVER_RESET",$="USER_LOGIN_REQUEST",J="USER_LOGIN_SUCCESS",Y="USER_LOGIN_FAIL",G="USER_LOGOUT",W="USER_REGISTER_REQUEST",K="USER_REGISTER_SUCCESS",X="USER_REGISTER_FAIL",Z="USER_DETAILS_REQUEST",ee="USER_DETAILS_SUCCESS",te="USER_DETAILS_FAIL",ae="USER_DETAILS_RESET",re="USER_UPDATE_PROFILE_REQUEST",se="USER_UPDATE_PROFILE_SUCCESS",ne="USER_UPDATE_PROFILE_FAIL",ce="USER_UPDATE_PROFILE_RESET",ie="USER_LIST_REQUEST",oe="USER_LIST_SUCCESS",le="USER_LIST_FAIL",de="USER_LIST_RESET",ue="USER_DELETE_REQUEST",pe="USER_DELETE_SUCCESS",xe="USER_DELETE_FAIL",je="USER_UPDATE_REQUEST",me="USER_UPDATE_SUCCESS",be="USER_UPDATE_FAIL",ge="USER_UPDATE_RESET",fe=function(){return function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("paymentMethod"),e({type:G}),e({type:ae}),e({type:z}),e({type:de}),document.location.href="/login"}},he=function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i,o,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Z}),s=r(),n=s.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.get("/api/users/".concat(e),c);case 6:i=t.sent,o=i.data,a({type:ee,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:te,payload:l});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},Oe=function(){var e=Object(c.b)(),t=Object(r.useState)(!0),a=Object(u.a)(t,2),s=a[0],n=a[1],i=Object(r.useState)(!1),d=Object(u.a)(i,2),b=d[0],g=d[1],h=Object(r.useState)(!1),O=Object(u.a)(h,2),y=O[0],v=O[1],w=Object(r.useState)(!0),N=Object(u.a)(w,2),E=N[0],S=N[1],k=Object(r.useRef)(),C=Object(r.useRef)(),_=Object(c.c)((function(e){return e.userLogin})).userInfo,R=function(e){k.current.contains(e.target)||C.current.contains(e.target)||S(!0)};Object(r.useEffect)((function(){return _&&document.body.addEventListener("click",R),function(){_&&document.body.removeEventListener("click",R)}}),[R]);var I=function(){e(fe()),S(!0)},A=s?"transition ease-out duration-100 transform hidden opacity-0 scale-95":"transition ease-out duration-100 transform opacity-100 scale-100",T=b?"text-opacity-100":"text-opacity-80",P=y?"text-opacity-100":"text-opacity-80",L=E?"transition ease-out duration-100 transform hidden opacity-0 scale-95":"transition ease-out duration-100 transform opacity-100 scale-100";return Object(l.jsxs)("header",{className:"bg-gradient-to-r from-green-700 via-green-600 to-green-500 p-5 shadow-md z-50 relative",children:[Object(l.jsx)("nav",{className:"h-full w-full",children:Object(l.jsxs)("div",{className:"flex justify-between items-center p-2",children:[Object(l.jsxs)("div",{className:"flex items-center lg:mx-5",children:[Object(l.jsx)("div",{className:"font-mergim font-black text-2xl text-green-50 mr-5",children:Object(l.jsx)(j,{onClick:function(){v(!1),g(!1),S(!0)}})}),Object(l.jsx)(o.a,{render:function(e){var t=e.history;return Object(l.jsx)(f,{responsive:"md:flex hidden sm:hidden w-full",history:t})}})]}),Object(l.jsxs)("div",{className:"hidden md:flex itemes-center uppercase font-semibold justify-center lg:mx-5",ref:k,children:[Object(l.jsx)(m,{to:"/cart",className:"inline-flex mr-2 itemes-center text-green-50 ".concat(T," hover:text-opacity-100"),onClick:function(){g(!0),v(!1),S(!0)},text:"cart",svg:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}),_?Object(l.jsx)(x,{className:"inline-flex ml-2 justify-evenly text-green-50 ".concat(P," hover:text-opacity-100 cursor-pointer items-center"),dropDown:function(){v(!0),g(!1),S(!E)},isAdmin:_&&_.isAdmin&&!0,dropHidden:L,text:_.name,onClick:I}):Object(l.jsx)(m,{to:"/login",className:"inline-flex ml-2 itemes-center text-green-50 ".concat(P," hover:text-opacity-100"),onClick:function(){v(!0),g(!1)},text:"sign in",svg:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})]}),Object(l.jsx)("div",{className:"md:hidden",children:Object(l.jsx)(p,{onClick:function(){n(!s)},burger:s})})]})}),Object(l.jsxs)("nav",{className:"md:hidden ".concat(A," mt-5"),children:[Object(l.jsxs)("div",{className:"uppercase px-2 pt-2 pb-3 space-y-1 flex flex-col items-start justify-center ml-2",ref:C,children:[Object(l.jsx)(m,{to:"/cart",className:"inline-flex itemes-center text-green-50 mb-2 ".concat(T," hover:text-opacity-100 text-lg"),onClick:function(){g(!0),v(!1)},text:"cart",svg:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}),_?Object(l.jsx)(x,{className:"inline-flex itemes-center text-green-50 ".concat(P," hover:text-opacity-100 cursor-pointer text-lg items-center"),dropDown:function(){v(!0),g(!1),S(!E)},isAdmin:_&&_.isAdmin&&!0,dropHidden:L,text:_.name,onClick:I}):Object(l.jsx)(m,{to:"/login",className:"inline-flex itemes-center text-green-50 ".concat(P," hover:text-opacity-100"),onClick:function(){v(!0),g(!1)},text:"sign in",svg:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})]}),Object(l.jsx)(o.a,{render:function(e){var t=e.history;return Object(l.jsx)(f,{history:t})}})]})]})},ye=function(e){var t=e.value,a=e.text,r=e.color;return Object(l.jsxs)("div",{className:"rating",children:[Object(l.jsx)("span",{children:Object(l.jsx)("i",{style:{color:r},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(l.jsx)("span",{children:Object(l.jsx)("i",{style:{color:r},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(l.jsx)("span",{children:Object(l.jsx)("i",{style:{color:r},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(l.jsx)("span",{children:Object(l.jsx)("i",{style:{color:r},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(l.jsx)("span",{children:Object(l.jsx)("i",{style:{color:r},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(l.jsx)("span",{children:a&&a})]})};ye.defaultProps={color:"#f8e825"};var ve=ye,we=function(e){var t=e.product;return Object(l.jsxs)("div",{className:"border p-3 rounded-sm shadow-sm text-gray-700 break-word bg-clip-border",children:[Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)(i.b,{to:"/product/".concat(t._id),children:Object(l.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full align-middle flex-shrink-0 object-center"})})}),Object(l.jsx)("div",{className:"px-3 my-2",children:Object(l.jsx)(i.b,{to:"/product/".concat(t._id),className:"hover:underline hover:text-gray-900 font-light",children:Object(l.jsx)("strong",{children:t.name})})}),Object(l.jsx)("div",{className:"px-3 text-gray-700 text-opacity-70",children:Object(l.jsx)(ve,{value:t.rating,text:"".concat(t.numReviews," reviews")})}),Object(l.jsxs)("h3",{className:"text-lg sm:text-xl px-3 my-2 font-semibold",children:["$",t.price]})]})},Ne=a(161),Ee=function(){return Object(l.jsx)("div",{className:"flex justify-center items-center my-20",children:Object(l.jsx)(Ne.a,{tip:"Loading...",size:"large",className:"container mx-auto w-full"})})},Se=a(164),ke=function(e){var t=e.message,a=e.type,r=e.closable;return Object(l.jsx)(Se.a,{className:"max-w-full",message:t,type:a,banner:!0,closable:r})};ke.defaultProps={type:"info"};var Ce=ke,_e=a(162),Re=function(e){var t=e.pageSize,a=e.total,r=e.current,s=e.history,n=e.keyword,c=e.isAdmin,i=void 0!==c&&c;if(void 0===t)return null;return Object(l.jsx)("div",{className:"flex justify-center my-4",children:Object(l.jsx)(_e.a,{current:+r,total:a,pageSize:t,responsive:!0,simple:!0,onChange:function(e){return function(e){s.push(i?"/admin/productlist/".concat(e):n?"/search/".concat(n,"/page/").concat(e):"/page/".concat(e))}(e)},hideOnSinglePage:!0})})},Ie=a(165),Ae=function(e){var t=e.src,a=e.alt,r=e.className;return Object(l.jsx)("img",{src:t,alt:a,className:r})};Ae.defaultProps={className:"max-w-full w-full h-auto align-middle flex-shrink-0 object-center shadow-sm rounded"};var Te=Ae,Pe="PRODUCT_LIST_REQUEST",Le="PRODUCT_LIST_SUCCESS",De="PRODUCT_LIST_FAIL",Ue="PRODUCT_DETAILS_REQUEST",ze="PRODUCT_DETAILS_SUCCESS",Me="PRODUCT_DETAILS_FAIL",Fe="PRODUCT_DELETE_REQUEST",He="PRODUCT_DELETE_SUCCESS",Be="PRODUCT_DELETE_FAIL",qe="PRODUCT_CREATE_REQUEST",Qe="PRODUCT_CREATE_SUCCESS",Ve="PRODUCT_CREATE_FAIL",$e="PRODUCT_CREATE_RESET",Je="PRODUCT_UPDATE_REQUEST",Ye="PRODUCT_UPDATE_SUCCESS",Ge="PRODUCT_UPDATE_FAIL",We="PRODUCT_UPDATE_RESET",Ke="PRODUCT_CREATE_REVIEW_REQUEST",Xe="PRODUCT_CREATE_REVIEW_SUCCESS",Ze="PRODUCT_CREATE_REVIEW_FAIL",et="PRODUCT_CREATE_REVIEW_RESET",tt="PRODUCT_TOP_REQUEST",at="PRODUCT_TOP_SUCCESS",rt="PRODUCT_TOP_FAIL",st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(y.a)(O.a.mark((function a(r){var s,n;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:Pe}),a.next=4,w.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:s=a.sent,n=s.data,r({type:Le,payload:n}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),r({type:De,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},nt=function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var r,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ue}),t.next=4,w.a.get("/api/products/".concat(e));case 4:r=t.sent,s=r.data,a({type:ze,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:Me,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ct=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.productTopRated})),a=t.loading,s=t.error,n=t.products;return Object(r.useEffect)((function(){e(function(){var e=Object(y.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:tt}),e.next=4,w.a.get("/api/products/top");case 4:a=e.sent,r=a.data,t({type:at,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:rt,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(l.jsx)(Ee,{}):s?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:s}),type:"error"}):Object(l.jsx)(Ie.a,{autoplay:!0,className:"bg-gradient-to-r from-green-900 via-green-800 to-green-700 shadow-md rounded-sm",children:n.map((function(e){return Object(l.jsx)("div",{className:"max-w-full w-full",children:Object(l.jsxs)(i.b,{to:"/product/".concat(e._id),className:"flex flex-col-reverse items-center justify-center",children:[Object(l.jsx)(Te,{src:e.image,alt:e.name,className:"max-w-full h-80 rounded-full p-2 mx-3 mb-10 align-middle object-center"}),Object(l.jsxs)("h2",{className:"text-base sm:text-xl md:text-2xl uppercase tracking-widest font-extrabold text-green-50 p-2 m-3 text-center",children:[e.name," ($",e.price,")"]})]})},e._id)}))})},it=a(106),ot=function(e){var t=e.title,a=e.description,r=e.keywords;return Object(l.jsxs)(it.a,{children:[Object(l.jsx)("title",{children:t}),Object(l.jsx)("meta",{name:"description",content:a}),Object(l.jsx)("meta",{name:"keyword",content:r})]})};ot.defaultProps={title:"Welcome To NaitShop",description:"We sell the best products for cheap",keywords:"electronics, buy electronics, cheap electroincs,shopping,cart,paypal,amazon"};var lt=ot,dt=function(e){var t=e.match,a=e.history,s=Object(c.b)(),n=t.params.keyword,o=t.params.pageNumber||1,d=Object(c.c)((function(e){return e.productList})),u=d.loading,p=d.error,x=d.products,j=d.pageSize,m=d.total;return Object(r.useEffect)((function(){s(st(n,o))}),[s,n,o]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(lt,{}),Object(l.jsx)("div",{className:"my-10",children:n?Object(l.jsx)(i.b,{to:"/",className:"bg-green-900 opacity-70 text-green-100 px-3 py-2 ml-1 uppercase transition-colors ease-in-out focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-800",children:"go back"}):Object(l.jsx)(ct,{})}),Object(l.jsx)("h1",{className:"text-xl sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 tracking-widest font-extrabold mt-10",children:"latest products"}),u?Object(l.jsx)(Ee,{}):p?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:p}),type:"error",closable:!0}):Object(l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4  xl:grid-cols-5 2xl:grid-cols-6 gap-4 my-5 p-1",children:x.map((function(e){return Object(l.jsx)(we,{product:e},e._id)}))}),Object(l.jsx)(Re,{current:o,pageSize:j,total:m,keyword:n||"",history:a})]})},ut=a(74),pt=function(e){var t=e.value,a=e.onChange,r=e.countItem,s=e.opRate;return Object(l.jsx)("select",{className:"flex-grow w-full max-w-full flex-basis-0 p-2 md:p-1 lg:p-2 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-200 transition-colors ease-in-out",value:t,onChange:a,children:s?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("option",{value:"",className:"text-gray-400",children:"Select..."}),Object(l.jsx)("option",{value:"1",children:"1 - Poor \ud83d\ude0f"}),Object(l.jsx)("option",{value:"2",children:"2 - Fair \ud83d\ude10"}),Object(l.jsx)("option",{value:"3",children:"3 - Good \ud83d\ude0a"}),Object(l.jsx)("option",{value:"4",children:"4 - Very Good \ud83d\ude0e"}),Object(l.jsx)("option",{value:"5",children:"5 - Excellent \ud83d\udcaa"})]}):Object(ut.a)(Array(r&&r.countInStock).keys()).map((function(e){return Object(l.jsx)("option",{value:e+1,children:e+1},e+1)}))})},xt=function(e){var t=e.className,a=e.children;return Object(l.jsx)("div",{className:t,children:a})};xt.defaultProps={className:"px-5 w-full md:w-2/5 md:flex-basis-40 relative text-sm sm:text-base md:text-sm lg:text-base break-word bg-clip-border min-w-0 flex flex-col"};var jt=xt,mt=function(e){var t=e.onClick,a=e.text,r=e.className,s=e.disabled;return Object(l.jsx)("button",{className:r,onClick:t,disabled:s,children:a})};mt.defaultProps={className:"bg-green-900 opacity-90 text-gray-100 uppercase w-full p-3 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-200 hover:opacity-100 inline-block text-sm transition-colors ease-in-out",disabled:!1};var bt=mt,gt=function(e){var t=e.children,a=e.bordred,r=e.flexed;return Object(l.jsx)("ul",{className:"divide-y > * divide-gray-900 > * divide-opacity-20 ".concat(a?"border":""," text-opacity-70 text-gray-900 ").concat(r?"flex flex-col pl-0 mb-0":""),children:t})};gt.defaultProps={bordred:!1,flexed:!1};var ft=gt,ht=function(e){var t=e.children,a=e.flexed,r=e.capitalize;return Object(l.jsx)("li",{className:"".concat(a?"p-3 flex flex-wrap items-center justify-center ":"py-3 relative block px-5","\n      ").concat(r?"text-gray-700 text-opacity-80 capitalize":"","\n      "),children:t})};ht.defaultProps={flexed:!1,capitalize:!1};var Ot=ht,yt=function(e){var t=e.text,a=e.strong;return Object(l.jsxs)("span",{className:"flex-grow max-w-full flex-basis-0",children:[t,a?Object(l.jsxs)("strong",{children:["$",a]}):""]})},vt=function(e){var t=e.value,a=e.onChange,r=e.placeholder,s=e.text,n=e.name,c=e.type,i=e.required,o=e.className,d=e.child,u=e.textarea;return Object(l.jsxs)("div",{className:o,children:[Object(l.jsx)("label",{className:"mb-2 inline-block text-gray-700 capitalize ttext-sm sm:text-base md:text-sm lg:text-base",children:s}),d||(u?Object(l.jsx)("textarea",{className:"block w-full text-sm font-normal py-3 px-6 md:py-2 md:px-4 lg:py-3 lg:px-6 text-gray-600 bg-gray-100 bg-clip-padding border-0 focus:outline-none focus:ring-4 focus:ring-inset focus:ring-gray-200 focus:shadow-sm transition-colors ease-in-out max-h-32 min-h-full",rows:"3",name:n,type:c,value:t,placeholder:r,onChange:a,required:i}):Object(l.jsx)("input",{className:"block w-full text-sm font-normal py-3 px-6 md:py-2 md:px-4 lg:py-3 lg:px-6 text-gray-600 bg-gray-100 bg-clip-padding border-0 focus:outline-none focus:ring-4 focus:ring-inset focus:ring-gray-200 focus:shadow-sm transition-colors ease-in-out input-h",name:n,type:c,placeholder:r,value:t,onChange:a,required:i}))]})};vt.defaultProps={required:!0,className:"my-2"};var wt=vt,Nt=function(e){var t=e.history,a=e.match,s=Object(c.b)(),n=a.params.id,o=Object(r.useState)(1),d=Object(u.a)(o,2),p=d[0],x=d[1],j=Object(r.useState)(0),m=Object(u.a)(j,2),b=m[0],f=m[1],h=Object(r.useState)(""),v=Object(u.a)(h,2),N=v[0],E=v[1],S=Object(c.c)((function(e){return e.productDetails})),k=S.loading,C=S.error,_=S.product,R=Object(c.c)((function(e){return e.userLogin})).userInfo,I=Object(c.c)((function(e){return e.productReviewCreate})),A=I.success,T=I.loading,P=I.error;Object(r.useEffect)((function(){A&&(f(0),E("")),_._id&&_._id===n||(s(nt(n)),s({type:et}))}),[s,n,A,_]);return Object(l.jsxs)("div",{className:"mt-10",children:[Object(l.jsx)(i.b,{to:"/",className:"bg-green-900 opacity-70 text-green-100 px-3 py-2 ml-1 uppercase transition-colors ease-in-out focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-800",children:"go back"}),k?Object(l.jsx)(Ee,{}):C?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:C}),type:"error",closable:!0}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(lt,{title:_.name}),Object(l.jsxs)("div",{className:"my-10 -mx-3.5 flex flex-wrap",children:[Object(l.jsx)(jt,{className:"px-5 w-full md:w-1/2 md:flex-basis-50 relative",children:Object(l.jsx)(Te,{src:_.image,alt:_.name})}),Object(l.jsx)(jt,{className:"px-5 w-full md:w-3/12 md:flex-basis-25 relative",children:Object(l.jsxs)(ft,{children:[Object(l.jsx)("li",{className:"py-3 relative block px-5",children:Object(l.jsx)("h3",{className:"uppercase text-lg sm:text-2xl md:text-xl lg:text-3xl font-medium",children:_.name})}),Object(l.jsx)("li",{className:"py-3 relative text-sm sm:text-base md:text-sm lg:text-base block px-5 text-gray-700 text-opacity-70",children:Object(l.jsx)(ve,{value:_.rating,text:"".concat(_.numReviews," reviews")})}),Object(l.jsxs)("li",{className:"py-3 relative block px-5 text-sm sm:text-base md:text-sm lg:text-base",children:["Price: $",_.price]}),Object(l.jsxs)("li",{className:"py-3 relative block px-5 text-sm sm:text-base md:text-sm lg:text-base",children:["Description: ",_.description]})]})}),Object(l.jsx)(jt,{className:"w-full md:w-3/12 md:flex-basis-25 text-sm sm:text-base md:text-sm lg:text-base break-word bg-clip-border px-5 relative min-w-0 flex flex-col",children:Object(l.jsxs)(ft,{bordred:!0,children:[Object(l.jsxs)(Ot,{flexed:!0,children:[Object(l.jsx)(yt,{text:"Price:"}),Object(l.jsx)(yt,{strong:_.price})]}),Object(l.jsxs)(Ot,{flexed:!0,children:[Object(l.jsx)(yt,{text:"Status:"}),Object(l.jsx)(yt,{text:_.countInStock>0?"In Stock":"Out Of Stock"})]}),_.countInStock>0&&Object(l.jsxs)(Ot,{flexed:!0,children:[Object(l.jsx)(yt,{text:"Qty:"}),Object(l.jsx)(pt,{value:p,onChange:function(e){return x(e.target.value)},countItem:_})]}),Object(l.jsx)(Ot,{flexed:!0,children:0===_.countInStock?Object(l.jsx)(bt,{className:"bg-green-900 text-gray-100 uppercase w-full p-3 md:p-1 lg:p-3 inline-block text-xs sm:text-sm md:text-xs lg:text-sm disabled:opacity-50 cursor-default",text:"add to cart",disabled:!0}):Object(l.jsx)(bt,{className:"bg-green-900 opacity-90 text-gray-100 uppercase w-full p-3 md:p-1 lg:p-3 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-800 hover:opacity-100 inline-block text-xs sm:text-sm md:text-xs lg:text-sm transition-colors ease-in-out",onClick:function(){t.push("/cart/".concat(n,"?qty=").concat(p))},text:"add to cart"})})]})})]}),Object(l.jsx)("div",{className:"my-10 -mx-3.5 flex flex-wrap",children:Object(l.jsxs)(jt,{className:"px-5 w-full md:w-1/2 md:flex-basis-50 relative",children:[Object(l.jsx)("h2",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 tracking-widest font-extrabold",children:"Reviews"}),0===_.reviews.length&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-blue-900",children:"No Reviews"})}),Object(l.jsxs)(ft,{children:[_.reviews.map((function(e){return Object(l.jsxs)(Ot,{children:[Object(l.jsx)("strong",{children:e.name}),Object(l.jsxs)("div",{className:"flex items-center flex-wrap text-sm text-gray-700 text-opacity-70",children:[Object(l.jsx)(ve,{value:e.rating}),Object(l.jsx)("span",{className:"ml-1",children:e.createdAt.substring(0,10)})]}),Object(l.jsx)("p",{className:"my-2 p-1",children:e.comment})]},e._id)})),Object(l.jsxs)(Ot,{children:[Object(l.jsx)("h3",{className:"text-base sm:text-lg uppercase text-gray-700 tracking-widest font-extrabold",children:"Write a Customer Review"}),A&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-green-900",children:"Review submitted successfully"}),type:"success",closable:!0}),T&&Object(l.jsx)(Ee,{}),P&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:P}),type:"error",closable:!0}),R?Object(l.jsxs)("form",{onSubmit:function(e){var t,r;e.preventDefault(),s((t=a.params.id,r={rating:b,comment:N},function(){var e=Object(y.a)(O.a.mark((function e(a,s){var n,c,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:Ke}),n=s(),c=n.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,w.a.post("/api/products/".concat(t,"/reviews"),r,i);case 6:a({type:Xe}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&a(fe()),a({type:Ze,payload:o});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},children:[Object(l.jsx)(wt,{text:"rating",child:Object(l.jsx)(pt,{value:b,onChange:function(e){return f(e.target.value)},opRate:!0})}),Object(l.jsx)(wt,{text:"comment",placeholder:"Type here...",textarea:!0,name:"comment",value:N,onChange:function(e){return E(e.target.value)}}),Object(l.jsx)(g,{text:"submit"})]}):Object(l.jsx)(Ce,{message:Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("span",{className:"text-blue-900 mr-1",children:"Please"}),Object(l.jsx)(i.b,{to:"/login",className:"hover:underline capitalize",children:"sign in"}),Object(l.jsx)("span",{className:"text-blue-900 ml-1",children:"to write a review"})]})})]})]})]})})]})]})},Et=function(e){var t=e.className,a=e.children;return Object(l.jsx)("div",{className:t,children:a})};Et.defaultProps={className:"px-5 w-full md:w-2/12 md:flex-basis-16 relative mb-2 md:mb-0"};var St=Et,kt=function(e){var t=e.onClick,a=e.className,r=e.path,s=e.text;return Object(l.jsxs)("button",{className:a,onClick:t,children:[Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:r,clipRule:"evenodd"})}),s&&Object(l.jsx)("span",{children:s})]})};kt.defaultProps={className:"text-red-700 flex-basis-0 inline-flex flex-grow max-w-full w-full p-2 md:p-1 lg:p-2 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-200 justify-center hover:text-red-500",path:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"};var Ct=kt,_t="CART_ADD_ITEM",Rt="CART_RESET",It="CART_REMOVE_ITEM",At="CART_SAVE_SHIPPING_ADDRESS",Tt="CART_SAVE_PAYMENT_METHOD",Pt=function(e,t){return function(){var a=Object(y.a)(O.a.mark((function a(r,s){var n,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.get("/api/products/".concat(e));case 2:n=a.sent,c=n.data,r({type:_t,payload:{product:c._id,name:c.name,image:c.image,price:c.price,countInStock:c.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Lt=function(e){var t=e.history,a=e.match,s=e.location,n=Object(c.b)(),o=Object(c.c)((function(e){return e.cart})).cartItems,d=a.params.id,u=s.search?+s.search.split("=")[1]:1;Object(r.useEffect)((function(){d&&n(Pt(d,u))}),[n,d,u]);var p=function(e){n(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:It,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(l.jsxs)("div",{className:"mt-10 -mx-3.5 flex flex-wrap",children:[Object(l.jsxs)("div",{className:"px-5 w-full md:w-3/5 md:flex-basis-60 relative",children:[Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 tracking-widest font-extrabold",children:"shopping cart"}),0===o.length?Object(l.jsx)(Ce,{message:Object(l.jsxs)("div",{className:"flex justify-between items-center",children:[Object(l.jsx)("span",{className:"text-blue-900",children:"Your cart is empty"}),Object(l.jsx)(i.b,{to:"/",className:"hover:underline capitalize",children:"go back"})]})}):Object(l.jsx)("div",{className:"flex flex-col pl-0 divide-y > * divide-gray-900 > * divide-opacity-20 text-opacity-70 text-gray-900 text-xs sm:text-base  md:text-xs lg:text-base my-3 justify-center",children:o.map((function(e){return Object(l.jsx)("div",{className:"py-3 relative block px-5",children:Object(l.jsxs)("div",{className:"-mx-3.5 flex flex-wrap items-center",children:[Object(l.jsx)(St,{children:Object(l.jsx)(Te,{src:e.image,alt:e.name})}),Object(l.jsx)(St,{className:"px-5 w-full md:w-2/6 md:flex-basis-33 relative mb-2 md:mb-0",children:Object(l.jsx)(i.b,{to:"/product/".concat(e.product),className:"hover:underline text-gray-700 text-opacity-90 hover:text-opacity-100",children:e.name})}),Object(l.jsxs)(St,{children:["$",e.price]}),Object(l.jsx)(St,{className:"px-5 md:px-2 lg:px-5 w-full md:w-2/12 md:flex-basis-16 relative mb-2 md:mb-0",children:Object(l.jsx)(pt,{value:e.qty,onChange:function(t){return n(Pt(e.product,+t.target.value))},countItem:e})}),Object(l.jsx)(St,{children:Object(l.jsx)(Ct,{onClick:function(){return p(e.product)}})})]})},e.product)}))})]}),Object(l.jsx)(jt,{children:Object(l.jsxs)("ul",{className:"divide-y > * divide-gray-900 > * divide-opacity-20 border",children:[Object(l.jsxs)("li",{className:"p-3 flex flex-wrap items-center text-gray-900 text-opacity-70",children:[Object(l.jsxs)("h2",{className:"text-lg sm:text-3xl md:text-2xl lg:text-3xl uppercase text-gray-700 text-opacity-90 mr-2",children:["subtotal (",o.reduce((function(e,t){return e+t.qty}),0),")"," ","items"]}),"$",o.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(l.jsx)("li",{className:"p-3 flex flex-wrap items-center justify-center",children:0===o.length?Object(l.jsx)(bt,{className:"bg-green-900 text-gray-100 uppercase w-full p-3 inline-block text-sm disabled:opacity-50 cursor-default",disabled:!0,text:"proceed to checkout"}):Object(l.jsx)(bt,{onClick:function(){t.push("/login?redirect=shipping")},text:"proceed to checkout"})})]})})]})},Dt=a(29),Ut=a(11),zt=function(e){var t=e.children;return Object(l.jsx)("div",{className:"container p-2",children:Object(l.jsx)("div",{className:"mx-auto w-full lg:w-1/2 sm:w-3/5",children:t})})},Mt=function(e){var t=e.className,a=e.question,r=e.to,s=e.text;return Object(l.jsx)("div",{className:t,children:Object(l.jsxs)("div",{className:"text-gray-700 text-opacity-80",children:[a,"?"," ",Object(l.jsx)(i.b,{to:r,className:"text-gray-700 hover:underline",children:s})]})})},Ft={email:"",password:""},Ht=function(e){var t=e.location,a=e.history,s=Object(c.b)(),n=Object(r.useState)(Ft),i=Object(u.a)(n,2),o=i[0],d=i[1],p=t.search?t.search.split("=")[1]:"/",x=Object(c.c)((function(e){return e.userLogin})),j=x.loading,m=x.error,b=x.userInfo;Object(r.useEffect)((function(){b&&a.push(p)}),[a,b,p]);var f=function(e){return d(Object(Ut.a)(Object(Ut.a)({},o),{},Object(Dt.a)({},e.target.name,e.target.value)))},h=function(e){var t,a;e.preventDefault(),s((t=o.email,a=o.password,function(){var e=Object(y.a)(O.a.mark((function e(r){var s,n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:$}),s={headers:{"Content-Type":"application/json"}},e.next=5,w.a.post("/api/users/login",{email:t,password:a},s);case 5:n=e.sent,c=n.data,r({type:J,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:Y,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(l.jsxs)(zt,{children:[Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 -ml-1 tracking-widest font-extrabold mt-10",children:"sign in"}),m&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:m}),type:"error",closable:!0}),j&&Object(l.jsx)(Ee,{}),Object(l.jsxs)("form",{className:"".concat(j&&"hidden"," mt-3"),onSubmit:function(e){return h(e)},children:[Object(l.jsx)(wt,{text:"email address",name:"email",type:"email",placeholder:"Enter email",value:o.email,onChange:function(e){return f(e)}}),Object(l.jsx)(wt,{text:"password",type:"password",name:"password",placeholder:"Enter password",value:o.password,onChange:function(e){return f(e)}}),Object(l.jsx)(g,{text:"sign in"})]}),Object(l.jsx)(Mt,{className:"".concat(j&&"hidden"," py-2 capitalize"),question:"new customer",text:"register",to:p?"/register?redirect=".concat(p):"/register"})]})},Bt={name:"",email:"",password:"",confirmPassword:""},qt=function(e){var t=e.location,a=e.history,s=Object(c.b)(),n=Object(r.useState)(Bt),i=Object(u.a)(n,2),o=i[0],d=i[1],p=Object(r.useState)(null),x=Object(u.a)(p,2),j=x[0],m=x[1],b=t.search?t.search.split("=")[1]:"/",f=Object(c.c)((function(e){return e.userRegister})),h=f.loading,v=f.error,N=f.userInfo;Object(r.useEffect)((function(){N&&a.push(b)}),[a,N,b]);var E=function(e){return d(Object(Ut.a)(Object(Ut.a)({},o),{},Object(Dt.a)({},e.target.name,e.target.value)))},S=function(e){var t,a,r;e.preventDefault(),o.password!==o.confirmPassword?m("Passwords do not match"):s((t=o.name,a=o.email,r=o.password,function(){var e=Object(y.a)(O.a.mark((function e(s){var n,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:W}),n={headers:{"Content-Type":"application/json"}},e.next=5,w.a.post("/api/users",{name:t,email:a,password:r},n);case 5:c=e.sent,i=c.data,s({type:K,payload:i}),s({type:J,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s({type:X,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(l.jsxs)(zt,{children:[Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 -ml-1 tracking-widest font-extrabold mt-10",children:"sign up"}),v&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:v}),type:"error",closable:!0}),j&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:j}),type:"error",closable:!0}),h&&Object(l.jsx)(Ee,{}),Object(l.jsxs)("form",{className:"".concat(h&&"hidden"," mt-3"),onSubmit:function(e){return S(e)},children:[Object(l.jsx)(wt,{text:"name",name:"name",type:"text",placeholder:"Enter name",value:o.name,onChange:function(e){return E(e)}}),Object(l.jsx)(wt,{text:"email address",name:"email",type:"email",placeholder:"Enter email",value:o.email,onChange:function(e){return E(e)}}),Object(l.jsx)(wt,{text:"password",type:"password",name:"password",placeholder:"Enter password",value:o.password,onChange:function(e){return E(e)}}),Object(l.jsx)(wt,{text:"confirm password",type:"password",name:"confirmPassword",placeholder:"Confirm password",value:o.confirmPassword,onChange:function(e){return E(e)}}),Object(l.jsx)(g,{text:"register"})]}),Object(l.jsx)(Mt,{className:"".concat(h&&"hidden"," py-2 capitalize"),question:"have an account",text:"login",to:b?"/login?redirect=".concat(b):"/login"})]})},Qt=function(e){var t=e.titles;return Object(l.jsxs)("tr",{className:"text-gray-600 text-left",children:[t.map((function(e){return Object(l.jsx)("th",{className:"font-semibold text-sm uppercase px-3 py-2",children:e},e)})),Object(l.jsx)("th",{className:"font-semibold text-sm uppercase px-3 py-2"})]})},Vt=function(e){var t=e.item,a=e.mailto,r=e.to;return Object(l.jsxs)("td",{className:"px-3 py-2",children:[t,a&&Object(l.jsx)("a",{href:"mailto:".concat(r),className:"hover:underline",children:r})]})},$t=function(e){var t=e.children;return Object(l.jsx)("div",{className:"overflow-x-auto w-full p-1 mt-3 text-sm xl:text-base",children:Object(l.jsx)("table",{className:"max-w-full w-full whitespace-nowrap rounded-sm bg-white divide-y divide-gray-300 overflow-hidden",children:t})})},Jt=Object(l.jsx)("span",{className:"text-green-500",children:Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Yt=Object(l.jsx)("span",{className:"text-red-500",children:Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Gt=Object(l.jsxs)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),Object(l.jsx)("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),Wt=function(e,t){return function(){var a=Object(y.a)(O.a.mark((function a(r,s){var n,c,i,o,l,d;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:I}),n=s(),c=n.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,w.a.put("/api/orders/".concat(e,"/pay"),t,i);case 6:o=a.sent,l=o.data,r({type:A,payload:l}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),"Not authorized, token failed"===(d=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&r(fe()),r({type:T,payload:d});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},Kt={name:"",email:"",password:"",confirmPassword:""},Xt=function(e){e.location;var t=e.history,a=Object(c.b)(),s=Object(r.useState)(Kt),n=Object(u.a)(s,2),o=n[0],d=n[1],p=Object(r.useState)(null),x=Object(u.a)(p,2),j=x[0],m=x[1],b=Object(c.c)((function(e){return e.userDetails})),f=b.loading,h=b.error,v=b.user,N=Object(c.c)((function(e){return e.userLogin})).userInfo,E=Object(c.c)((function(e){return e.userUpdateProfile})).success,S=Object(c.c)((function(e){return e.orderListMy})),k=S.loading,C=S.error,_=S.orders;Object(r.useEffect)((function(){N?v.name?d({name:v.name,email:v.email}):(a(he("profile")),a(function(){var e=Object(y.a)(O.a.mark((function e(t,a){var r,s,n,c,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),r=a(),s=r.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,w.a.get("/api/orders/myorders",n);case 6:c=e.sent,i=c.data,t({type:D,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(fe()),t({type:U,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())):t.push("/login")}),[a,t,N,v]);var R=function(e){return d(Object(Ut.a)(Object(Ut.a)({},o),{},Object(Dt.a)({},e.target.name,e.target.value)))},I=function(e){e.preventDefault(),o.password!==o.confirmPassword?m("Passwords do not match"):a(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i,o,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:re}),s=r(),n=s.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.put("/api/users/profile",e,c);case 6:i=t.sent,o=i.data,a({type:se,payload:o}),a({type:J,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:ne,payload:l});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:v._id,name:o.name,email:o.email,password:o.password}))};return Object(l.jsxs)("div",{className:"mt-10 -mx-3.5 flex flex-wrap",children:[Object(l.jsxs)("div",{className:"px-5 md:px-2 lg:px-5 w-full md:w-1/4 md:flex-basis-25 relative",children:[Object(l.jsx)("h2",{className:"text-lg sm:text-3xl md:text-2xl xl:text-3xl uppercase text-gray-700 p-1 tracking-widest font-extrabold",children:"user profile"}),h&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:h}),type:"error",closable:!0}),j&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:j}),type:"error",closable:!0}),E&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-green-900",children:"Profile updated"}),type:"success",closable:!0}),f&&Object(l.jsx)(Ee,{}),Object(l.jsxs)("form",{className:"p-1",onSubmit:function(e){return I(e)},children:[Object(l.jsx)(wt,{text:"name",name:"name",type:"text",placeholder:"Enter name",value:o.name||"",onChange:function(e){return R(e)},className:"mb-1",required:Boolean(!1)}),Object(l.jsx)(wt,{text:"email address",name:"email",type:"email",placeholder:"Enter email",value:o.email||"",onChange:function(e){return R(e)},className:"mb-1",required:Boolean(!1)}),Object(l.jsx)(wt,{text:"password",type:"password",name:"password",placeholder:"Enter password",value:o.password||"",onChange:function(e){return R(e)},className:"mb-1",required:Boolean(!1)}),Object(l.jsx)(wt,{text:"confirm password",type:"password",name:"confirmPassword",placeholder:"Confirm password",value:o.confirmPassword||"",onChange:function(e){return R(e)},className:"mb-1",required:Boolean(!1)}),Object(l.jsx)(g,{text:"update"})]})]}),Object(l.jsxs)("div",{className:"px-5 md:px-2 lg:px-5 w-full md:w-3/4 md:flex-basis-75 relative",children:[Object(l.jsx)("h2",{className:"text-lg sm:text-3xl md:text-2xl xl:text-3xl uppercase text-gray-700 p-1 tracking-widest font-extrabold",children:"my orders"}),k?Object(l.jsx)(Ee,{}):C?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:h}),type:"error",closable:!0}):Object(l.jsxs)($t,{children:[Object(l.jsx)("thead",{className:"bg-gray-50",children:Object(l.jsx)(Qt,{titles:["id","date","total","paid","delivered"]})}),Object(l.jsx)("tbody",{className:"divide-y divide-gray-200 text-gray-700",children:_.map((function(e){return Object(l.jsxs)("tr",{className:"hover:bg-gray-100",children:[Object(l.jsx)(Vt,{item:e._id}),Object(l.jsx)(Vt,{item:e.createdAt.substring(0,10)}),Object(l.jsx)(Vt,{item:"$".concat(e.totalPrice)}),Object(l.jsx)(Vt,{item:e.isPaid?e.paidAt.substring(0,10):Yt}),Object(l.jsx)(Vt,{item:e.isDelivered?e.deliveredAt.substring(0,10):Yt}),Object(l.jsx)(Vt,{item:Object(l.jsx)(i.b,{to:"/order/".concat(e._id),className:"bg-blue-700 opacity-80 text-gray-100 uppercase px-4 py-1 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-600 hover:opacity-100 inline-block text-center transition-colors ease-in-out",children:"details"})})]},e._id)}))})]})]})]})},Zt=a(163),ea=a(166),ta=a(167),aa=a(168),ra=a(115),sa=Zt.a.Step,na=[{title:"Login",icon:ea.a},{title:"Shipping",icon:ta.a},{title:"Payement",icon:aa.a},{title:"Place Order",icon:ra.a}],ca=function(e){var t=e.History,a=e.Current,s=Object(r.useState)(+a),n=Object(u.a)(s,2),c=n[0],i=n[1];return Object(l.jsx)(Zt.a,{current:c,onChange:function(e){i(e),1===e?t.push("/shipping"):0===e?t.push("/login"):2===e?t.push("/payment"):3===e&&t.push("/placeorder")},size:"default",className:"my-10",children:na.map((function(e,t){return Object(l.jsx)(sa,{title:window.screen.width<"532"?"":e.title,icon:Object(l.jsx)(e.icon,{}),disabled:c<t&&!0},e.title)}))})},ia=function(e){var t=e.history,a=Object(c.b)(),s=Object(c.c)((function(e){return e.cart})).shippingAddress,n=Object(r.useState)({cin:s.cin,address:s.address,city:s.city,postalCode:s.postalCode,country:s.country}),i=Object(u.a)(n,2),o=i[0],d=i[1],p=function(e){return d(Object(Ut.a)(Object(Ut.a)({},o),{},Object(Dt.a)({},e.target.name,e.target.value)))},x=function(e){var r;e.preventDefault(),a((r=o,function(e){e({type:At,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r))})),t.push("/payment")};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ca,{Current:"1",History:t}),Object(l.jsxs)(zt,{children:[Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 -ml-1 tracking-widest font-extrabold my-3",children:"shipping"}),Object(l.jsxs)("form",{className:"mt-3",onSubmit:function(e){return x(e)},children:[Object(l.jsx)(wt,{text:"cin",name:"cin",type:"text",placeholder:"Enter national identity card",value:o.cin,onChange:function(e){return p(e)}}),Object(l.jsx)(wt,{text:"address",name:"address",type:"text",placeholder:"Enter address",value:o.address,onChange:function(e){return p(e)}}),Object(l.jsx)(wt,{text:"city",name:"city",type:"text",placeholder:"Enter city",value:o.city,onChange:function(e){return p(e)}}),Object(l.jsx)(wt,{text:"postal code",type:"text",name:"postalCode",placeholder:"Enter postal code",value:o.postalCode,onChange:function(e){return p(e)}}),Object(l.jsx)(wt,{text:"country",type:"text",name:"country",placeholder:"Enter country",value:o.country,onChange:function(e){return p(e)}}),Object(l.jsx)(g,{text:"continue"})]})]})]})},oa=function(e){var t=e.text,a=e.checked,r=e.onChange,s=e.value,n=e.id;return Object(l.jsxs)("label",{className:"inline-flex items-center ml-5",children:[Object(l.jsx)("input",{className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300",id:n,type:"radio",name:"paymentMethod",value:s,checked:a,onChange:r}),Object(l.jsx)("span",{className:"ml-2 text-gray-800",children:t})]})};oa.defaultProps={id:"PayPal",text:"PayPal or Credit Card"};var la=oa,da=function(e){var t=e.history,a=Object(c.b)(),s=Object(r.useState)("PayPal"),n=Object(u.a)(s,2),i=n[0],o=n[1],d=Object(r.useState)(),p=Object(u.a)(d,2),x=p[0],j=p[1];Object(c.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping"),Object(r.useEffect)((function(){j(1)}),[]);var m=function(e){var r;e.preventDefault(),a((r=i,function(e){e({type:Tt,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r))})),t.push("/placeorder")};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ca,{Current:"2",History:t}),Object(l.jsxs)(zt,{children:[Object(l.jsx)("h1",{className:"text-xl sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 -ml-1 tracking-widest font-extrabold my-3",children:"payment method"}),Object(l.jsxs)("form",{className:"mt-3",onSubmit:function(e){return m(e)},children:[Object(l.jsxs)("div",{className:"flex flex-col my-2",children:[Object(l.jsx)("h3",{className:"capitalize text-lg sm:text-xl md:text-2xl text-gray-700 p-1 -ml-1 tracking-widest font-medium text-opacity-80",children:"select method"}),Object(l.jsx)(la,{checked:1===x,value:"PayPal",onChange:function(e){o(e.target.value),j(1)}}),Object(l.jsx)(la,{text:"Face To Face",id:"faceToface",value:"faceToface",checked:2===x,onChange:function(e){o(e.target.value),j(2)}})]}),Object(l.jsx)(g,{text:"continue"})]})]})]})},ua=function(e){var t=e.children;return Object(l.jsx)("div",{className:"px-5 w-full md:w-3/5 md:flex-basis-60 relative",children:Object(l.jsx)("div",{className:"flex flex-col pl-0 divide-y > * divide-gray-900 > * divide-opacity-20 text-opacity-70 text-gray-900 text-sm sm:text-base md:text-sm lg:text-base my-3 justify-center",children:t})})},pa=function(e){var t=e.children,a=e.title;return Object(l.jsxs)("div",{className:"py-3 relative block px-5",children:[Object(l.jsx)("h2",{className:"uppercase text-gray-700 py-2 text-lg sm:text-2xl font-medium tracking-widest",children:a}),t]})},xa=function(e){var t=e.title,a=e.children;return Object(l.jsxs)("p",{className:"mb-1",children:[Object(l.jsxs)("strong",{className:"font-normal mr-1 capitalize",children:[t,":"]}),a]})},ja=function(e){var t=e.key,a=e.children;return Object(l.jsx)("div",{className:"flex flex-col pl-0 mb-3 text-opacity-70 text-gray-900 text-sm sm:text-base md:text-sm lg:text-base items-center justify-center text-center md:text-left",children:Object(l.jsx)("div",{className:"py-3 relative block px-5",children:Object(l.jsx)("div",{className:"-mx-3.5 flex flex-wrap items-center",children:a})})},t)},ma=function(e){var t=e.title,a=e.price;return Object(l.jsxs)("div",{className:"-mx-3.5 flex flex-wrap px-3",children:[Object(l.jsx)("div",{className:"flex-grow flex-basis-0 max-w-full",children:t}),Object(l.jsx)("div",{className:"flex-grow flex-basis-0 max-w-full",children:Object(l.jsxs)("strong",{children:["$",a]})})]})},ba=function(e){var t=e.history,a=Object(c.b)(),s=Object(c.c)((function(e){return e.cart})),n=Object(c.c)((function(e){return e.orderCreate})),o=n.order,d=n.success,u=n.error,p=function(e){return Math.round(100*e/100).toFixed(2)};s.itemsPrice=p(s.cartItems.reduce((function(e,t){return e+t.qty*t.price}),0)),s.shippingPrice=p(s.itemsPrice>200?0:200),s.taxPrice=p(Number((.15*s.itemsPrice).toFixed(2))),s.totalPrice=(Number(s.itemsPrice)+Number(s.shippingPrice)+Number(s.taxPrice)).toFixed(2),Object(r.useEffect)((function(){d&&t.push("/order/".concat(o._id))}),[t,d]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ca,{Current:"3",History:t}),Object(l.jsxs)("div",{className:"-mx-3.5 flex flex-wrap",children:[Object(l.jsxs)(ua,{children:[Object(l.jsx)(pa,{title:"shipping",children:Object(l.jsxs)(xa,{title:"address",children:[s.shippingAddress.address,", ",s.shippingAddress.city," ",s.shippingAddress.postalCode,", ",s.shippingAddress.country]})}),Object(l.jsx)(pa,{title:"payment method",children:Object(l.jsx)(xa,{title:"method",children:Object(l.jsx)("span",{children:s.paymentMethod})})}),Object(l.jsx)(pa,{title:"order items",children:Object(l.jsx)("div",{className:"divide-y > * divide-gray-900 > * divide-opacity-20",children:0===s.cartItems.length?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-blue-900",children:"Your cart is empty"}),closable:!0}):s.cartItems.map((function(e){return Object(l.jsxs)(ja,{children:[Object(l.jsx)(St,{children:Object(l.jsx)(Te,{src:e.image,alt:e.name})}),Object(l.jsx)(St,{className:"flex-grow flex-basis-0 max-w-full mb-2 md:mb-0",children:Object(l.jsx)(i.b,{to:"/product/".concat(e.product),className:"hover:underline text-gray-700 text-opacity-90 hover:text-opacity-100",children:e.name})}),Object(l.jsxs)(St,{className:"px-5 w-full md:w-1/3 md:flex-basis-33 relative mb-2 md:mb-0",children:[e.qty," x $",e.price," = $",e.qty*e.price]})]},e.product)}))})})]}),Object(l.jsx)(jt,{children:Object(l.jsxs)(ft,{bordred:!0,flexed:!0,children:[Object(l.jsx)(Ot,{children:Object(l.jsx)("h2",{className:"uppercase text-gray-700 py-2 text-lg sm:text-xl lg:text-2xl font-medium tracking-widest",children:"order summary"})}),Object(l.jsx)(Ot,{capitalize:!0,children:Object(l.jsx)(ma,{title:"items",price:s.itemsPrice})}),Object(l.jsx)(Ot,{capitalize:!0,children:Object(l.jsx)(ma,{title:"shipping",price:s.shippingPrice})}),Object(l.jsx)(Ot,{capitalize:!0,children:Object(l.jsx)(ma,{title:"tax",price:s.taxPrice})}),Object(l.jsx)(Ot,{capitalize:!0,children:Object(l.jsx)(ma,{title:"total",price:s.totalPrice})}),u&&Object(l.jsx)("div",{className:"",children:Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:u}),type:"error",closable:!0})}),Object(l.jsx)("div",{className:"p-3 relative block px-5",children:0===s.cartItems.length?Object(l.jsx)(bt,{className:"bg-green-900 text-gray-100 uppercase w-full p-3 inline-block text-sm disabled:opacity-50 cursor-default",disabled:!0,text:"place order"}):Object(l.jsx)(bt,{onClick:function(){a(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i,o,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:N}),s=r(),n=s.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.post("/api/orders",e,c);case 6:i=t.sent,o=i.data,a({type:E,payload:o}),a({type:Rt,payload:o}),localStorage.removeItem("cartItems"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:S,payload:l});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:s.cartItems,shippingAddress:s.shippingAddress,paymentMethod:s.paymentMethod,itemsPrice:s.itemsPrice,shippingPrice:s.shippingPrice,taxPrice:s.taxPrice,totalPrice:s.totalPrice}))},text:"place order"})})]})})]})]})},ga=a(109),fa=function(e){var t,a=e.match,s=e.history,n=Object(c.b)(),o=Object(r.useState)(!1),d=Object(u.a)(o,2),p=d[0],x=d[1],j=a.params.id,m=Object(c.c)((function(e){return e.orderDetails})),b=m.order,g=m.loading,f=m.error,h=Object(c.c)((function(e){return e.orderPay})),v=h.loading,N=h.success,E=Object(c.c)((function(e){return e.orderDeliver})),S=E.loading,k=E.success,I=Object(c.c)((function(e){return e.userLogin})).userInfo;if(!g){b.itemsPrice=(t=b.orderItems.reduce((function(e,t){return e+t.qty*t.price}),0),Math.round(100*t/100).toFixed(2))}Object(r.useEffect)((function(){I||s.push("/login");var e,t=function(){var e=Object(y.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(r=document.createElement("script")).type="text/javascript",r.src="https://www.paypal.com/sdk/js?client-id=".concat(a),r.async=!0,r.onload=function(){x(!0)},document.body.appendChild(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!b||N||k||b._id!==j?(n({type:P}),n({type:V}),n((e=j,function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i,o,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:C}),s=r(),n=s.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.get("/api/orders/".concat(e),c);case 6:i=t.sent,o=i.data,a({type:_,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:R,payload:l});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))):b.isPaid||(window.paypal?x(!0):t())}),[n,j,N,b,k,s,I]);return Object(l.jsx)(l.Fragment,{children:g?Object(l.jsx)(Ee,{}):f?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:f}),type:"error",closable:!0}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h1",{className:"text-lg sm:text-2xl md:text-3xl uppercase text-gray-700 p-1 tracking-widest font-extrabold break-words mt-10 md:my-10",children:["Order id ",b._id]}),Object(l.jsxs)("div",{className:"-mx-3.5 flex flex-wrap",children:[Object(l.jsxs)(ua,{children:[Object(l.jsxs)(pa,{title:"shipping",children:[Object(l.jsx)(xa,{title:"cin",children:b.shippingAddress.cin}),Object(l.jsx)(xa,{title:"name",children:b.user.name}),Object(l.jsx)(xa,{title:"email",children:Object(l.jsx)("a",{href:"mailto:".concat(b.user.email),className:"hover:underline",children:b.user.email})}),Object(l.jsxs)(xa,{title:"address",children:[b.shippingAddress.address,", ",b.shippingAddress.city," ",b.shippingAddress.postalCode,","," ",b.shippingAddress.country]}),b.isDelivered?Object(l.jsx)(Ce,{message:Object(l.jsxs)("span",{className:"text-green-900",children:["Paid on ",b.deliveredAt]}),type:"success"}):Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:"Not Delivered"}),type:"error"})]}),Object(l.jsxs)(pa,{title:"payment method",children:[Object(l.jsx)(xa,{title:"method",children:Object(l.jsx)("span",{children:b.paymentMethod})}),b.isPaid?Object(l.jsx)(Ce,{message:Object(l.jsxs)("span",{className:"text-green-900",children:["Paid on ",b.paidAt]}),type:"success"}):Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:"Not Paid"}),type:"error"})]}),Object(l.jsx)(pa,{title:"order items",children:Object(l.jsx)("div",{className:"divide-y > * divide-gray-900 > * divide-opacity-20",children:0===b.orderItems.length?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-blue-900",children:"Your cart is empty"}),closable:!0}):b.orderItems.map((function(e){return Object(l.jsxs)(ja,{children:[Object(l.jsx)(St,{children:Object(l.jsx)(Te,{src:e.image,alt:e.name})}),Object(l.jsx)(St,{className:"flex-grow flex-basis-0 max-w-full mb-2 md:mb-0",children:Object(l.jsx)(i.b,{to:"/product/".concat(e.product),className:"hover:underline text-gray-700 text-opacity-90 hover:text-opacity-100",children:e.name})}),Object(l.jsxs)(St,{className:"px-5 w-full md:w-1/3 md:flex-basis-33 relative mb-2 md:mb-0",children:[e.qty," x $",e.price," = $",e.qty*e.price]})]},e.product)}))})})]}),Object(l.jsx)(jt,{children:Object(l.jsxs)(ft,{bordred:!0,flexed:!0,children:[Object(l.jsx)(Ot,{children:Object(l.jsx)("h2",{className:"uppercase text-gray-700 py-2 text-lg sm:text-xl lg:text-2xl font-medium tracking-widest",children:"order summary"})}),Object(l.jsx)(Ot,{capitalize:!0,children:Object(l.jsx)(ma,{title:"items",price:b.itemsPrice})}),Object(l.jsx)(Ot,{capitalize:!0,children:Object(l.jsx)(ma,{title:"shipping",price:b.shippingPrice})}),Object(l.jsx)(Ot,{capitalize:!0,children:Object(l.jsx)(ma,{title:"tax",price:b.taxPrice})}),Object(l.jsx)(Ot,{capitalize:!0,children:Object(l.jsx)(ma,{title:"total",price:b.totalPrice})}),!b.isPaid&&Object(l.jsxs)("div",{className:"py-3 relative block px-5",children:[v&&Object(l.jsx)(Ee,{}),"PayPal"===b.paymentMethod?p?Object(l.jsx)(ga.PayPalButton,{amount:b.totalPrice,onSuccess:function(e){n(Wt(j,e))}}):Object(l.jsx)(Ee,{}):I&&I.isAdmin&&Object(l.jsx)("div",{className:"py-3 relative block px-5",children:Object(l.jsx)(bt,{onClick:function(){n(Wt(j,{cin:b.shippingAddress.cin,email_address:b.user.email}))},text:"mark as paid"})})]}),S&&Object(l.jsx)(Ee,{}),I&&I.isAdmin&&b.isPaid&&!b.isDelivered&&Object(l.jsx)("div",{className:"py-3 relative block px-5",children:Object(l.jsx)(bt,{onClick:function(){n(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i,o,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:B}),s=r(),n=s.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.put("/api/orders/".concat(e._id,"/deliver"),{},c);case 6:i=t.sent,o=i.data,a({type:q,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:Q,payload:l});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(b))},text:"mark as delivered"})})]})})]})]})})},ha=function(e){var t=e.onClick,a=e.cancle;return Object(l.jsxs)("div",{className:"bg-green-700 w-4/6 sm:w-2/5 md:w-1/4 transform absolute left-1/2 top-1/4 -translate-x-1/2 p-5 flex flex-col text-gray-100 z-50 shadow-xl rounded",children:[Object(l.jsx)("span",{className:"capitalize my-2 text-lg sm:text-3xl md:text-xl lg:text-3xl",children:"are you sure?"}),Object(l.jsxs)("span",{className:"flex justify-between items-center my-2",children:[Object(l.jsx)("button",{className:"hover:bg-gray-100 bg-gray-50 p-2 md:p-1 lg:p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-200 inline-block text-center transition-colors ease-in-out rounded text-gray-700 text-xs sm:text-sm md:text-base",onClick:a,children:"cancle"}),Object(l.jsx)("button",{className:"hover:bg-gray-100 bg-gray-50 p-2 md:p-1 lg:p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-200 inline-block text-center transition-colors ease-in-out rounded text-gray-700 text-xs sm:text-sm md:text-base",onClick:t,children:"ok"})]})]})},Oa=function(e){var t=e.history,a=Object(r.useState)(!1),s=Object(u.a)(a,2),n=s[0],o=s[1],d=Object(c.b)(),p=Object(c.c)((function(e){return e.userList})),x=p.loading,j=p.error,m=p.users,b=Object(c.c)((function(e){return e.userLogin})).userInfo,g=Object(c.c)((function(e){return e.userDelete})),f=g.loading,h=g.error,v=g.success;Object(r.useEffect)((function(){b&&b.isAdmin?d(function(){var e=Object(y.a)(O.a.mark((function e(t,a){var r,s,n,c,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ie}),r=a(),s=r.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,w.a.get("/api/users",n);case 6:c=e.sent,i=c.data,t({type:oe,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(fe()),t({type:le,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[d,t,b,v]);var N=function(e){d(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ue}),s=r(),n=s.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.delete("/api/users/".concat(e),c);case 6:a({type:pe}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:xe,payload:i});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e)),o(!1)},E=function(){o(!0)},S=function(){o(!1)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 tracking-widest font-extrabold mt-10",children:"users"}),f&&Object(l.jsx)(Ee,{}),h&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:h}),type:"error",closable:!0}),x?Object(l.jsx)(Ee,{}):j?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:j}),type:"error"}):Object(l.jsxs)($t,{children:[Object(l.jsx)("thead",{className:"bg-gray-50",children:Object(l.jsx)(Qt,{titles:["id","name","email","admin"]})}),Object(l.jsx)("tbody",{className:"divide-y divide-gray-200 text-gray-700",children:m.map((function(e){return Object(l.jsxs)("tr",{className:"hover:bg-gray-100",children:[Object(l.jsx)(Vt,{item:e._id}),Object(l.jsx)(Vt,{item:e.name}),Object(l.jsx)(Vt,{mailto:!0,to:e.email}),Object(l.jsx)(Vt,{item:e.isAdmin?Jt:Yt}),Object(l.jsx)(Vt,{item:Object(l.jsxs)("span",{className:"w-full max-w-full inline-flex items-center",children:[Object(l.jsx)(i.b,{to:"/admin/user/".concat(e._id,"/edit"),className:"text-blue-700 hover:text-blue-500 p-2 md:p-1 lg:p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-600 inline-block text-center transition-colors ease-in-out mr-1 rounded-full",children:Gt}),n&&Object(l.jsx)(ha,{onClick:function(){return N(e._id)},cancle:S}),Object(l.jsx)(Ct,{onClick:E,className:"text-red-700 hover:text-red-500 p-2 md:p-1 lg:p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-red-600 inline-block text-center transition-colors ease-in-out ml-1 rounded-full"})]})})]},e._id)}))})]})]})},ya=function(e){var t=e.value,a=e.onChange,r=e.checked;return Object(l.jsx)("div",{className:"my-2",children:Object(l.jsxs)("label",{className:"inline-flex items-center mt-3",children:[Object(l.jsx)("input",{type:"checkbox",className:"h-5 w-5 focus:ring-blue-500 text-blue-600",value:t,name:"isAdmin",onChange:a,checked:r}),Object(l.jsx)("span",{className:"ml-2 text-gray-700",children:"isAdmin"})]})})},va={name:"",email:"",isAdmin:!1},wa=function(e){var t=e.match,a=e.history,s=Object(c.b)(),n=t.params.id,o=Object(r.useState)(va),d=Object(u.a)(o,2),p=d[0],x=d[1],j=Object(r.useState)(!1),m=Object(u.a)(j,2),b=m[0],f=m[1],h=Object(c.c)((function(e){return e.userDetails})),v=h.loading,N=h.error,E=h.user,S=Object(c.c)((function(e){return e.userUpdate})),k=S.loading,C=S.error,_=S.success;Object(r.useEffect)((function(){_?(s({type:ge}),a.push("/admin/userlist")):E.name&&E._id===n?(x({name:E.name,email:E.email,isAdmin:E.isAdmin}),!0===E.isAdmin?f(!0):f(!1)):(s(he(n)),!0===E.isAdmin?f(!0):f(!1))}),[s,E,n,_,a]);var R=function(e){return x(Object(Ut.a)(Object(Ut.a)({},p),{},Object(Dt.a)({},e.target.name,e.target.value)))},I=function(e){e.preventDefault(),s(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i,o,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:je}),s=r(),n=s.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.put("/api/users/".concat(e._id),e,c);case 6:i=t.sent,o=i.data,a({type:me}),a({type:ee,payload:o}),a({type:ae}),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:be,payload:l});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:n,name:p.name,email:p.email,isAdmin:p.isAdmin}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"mt-10",children:Object(l.jsx)(i.b,{to:"/admin/userList",className:"bg-green-900 opacity-70 text-green-100 px-3 py-2 ml-1 uppercase transition-colors ease-in-out focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-800",children:"go back"})}),Object(l.jsxs)(zt,{children:[Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 -ml-1 tracking-widest font-extrabold mt-10",children:"edite user"}),k&&Object(l.jsx)(Ee,{}),C&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:C}),type:"error",closable:!0}),v?Object(l.jsx)(Ee,{}):N?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:N}),type:"error",closable:!0}):Object(l.jsxs)("form",{className:"".concat(v&&"hidden"," mt-3"),onSubmit:function(e){return I(e)},children:[Object(l.jsx)(wt,{text:"name",name:"name",type:"text",placeholder:"Enter name",value:p.name,onChange:function(e){return R(e)}}),Object(l.jsx)(wt,{text:"email address",name:"email",type:"email",placeholder:"Enter email",value:p.email,onChange:function(e){return R(e)}}),Object(l.jsx)(ya,{value:p.isAdmin,onChange:function(e){x(Object(Ut.a)(Object(Ut.a)({},p),{},Object(Dt.a)({},e.target.name,e.target.checked))),f(!b)},checked:b}),Object(l.jsx)(g,{text:"update"})]})]})]})},Na=function(e){var t=e.match,a=e.history,s=Object(c.b)(),n=Object(r.useState)(!1),o=Object(u.a)(n,2),d=o[0],p=o[1],x=t.params.pageNumber||1,j=Object(c.c)((function(e){return e.productList})),m=j.loading,b=j.error,g=j.products,f=j.pageSize,h=j.total,v=Object(c.c)((function(e){return e.userLogin})).userInfo,N=Object(c.c)((function(e){return e.productDelete})),E=N.loading,S=N.error,k=N.success,C=Object(c.c)((function(e){return e.productCreate})),_=C.loading,R=C.error,I=C.success,A=C.product;Object(r.useEffect)((function(){s({type:$e}),v&&v.isAdmin||a.push("/login"),I?a.push("/admin/product/".concat(A._id,"/edit")):s(st("",x))}),[s,a,v,k,I,A,x]);var T=function(e){s(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Fe}),s=r(),n=s.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.delete("/api/products/".concat(e),c);case 6:a({type:He}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:Be,payload:i});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e)),p(!1)},P=function(){p(!0)},L=function(){p(!1)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"flex flex-wrap items-center mt-10 p-1",children:[Object(l.jsx)("div",{className:"flex-grow flex-basis-0 max-w-full",children:Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 tracking-widest font-extrabold",children:"products"})}),Object(l.jsx)("div",{className:"flex-grow flex-basis-0 max-w-2xl text-right",children:Object(l.jsx)(Ct,{path:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",text:"create product",className:"text-indigo-700 inline-flex items-center p-2 md:p-1 lg:p-2 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-200 justify-center hover:text-indigo-500 uppercase text-sm sm:text-base",onClick:function(){s(function(){var e=Object(y.a)(O.a.mark((function e(t,a){var r,s,n,c,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:qe}),r=a(),s=r.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,w.a.post("/api/products",{},n);case 6:c=e.sent,i=c.data,t({type:Qe,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(fe()),t({type:Ve,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}})})]}),E&&Object(l.jsx)(Ee,{}),S&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:S}),type:"error",closable:!0}),_&&Object(l.jsx)(Ee,{}),R&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:S}),type:"error",closable:!0}),m?Object(l.jsx)(Ee,{}):b?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:b}),type:"error"}):Object(l.jsxs)(l.Fragment,{children:[" ",Object(l.jsxs)($t,{children:[Object(l.jsx)("thead",{className:"bg-gray-50",children:Object(l.jsx)(Qt,{titles:["id","name","price","category","brand"]})}),Object(l.jsx)("tbody",{className:"divide-y divide-gray-200 text-gray-700",children:g.map((function(e){return Object(l.jsxs)("tr",{className:"hover:bg-gray-100",children:[Object(l.jsx)(Vt,{item:e._id}),Object(l.jsx)(Vt,{item:e.name}),Object(l.jsx)(Vt,{item:"$".concat(e.price)}),Object(l.jsx)(Vt,{item:e.category}),Object(l.jsx)(Vt,{item:e.brand}),Object(l.jsx)(Vt,{item:Object(l.jsxs)("span",{className:"w-full max-w-full inline-flex items-center",children:[Object(l.jsx)(i.b,{to:"/admin/product/".concat(e._id,"/edit"),className:"text-blue-700 hover:text-blue-500 p-2 md:p-1 lg:p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-600 inline-block text-center transition-colors ease-in-out mr-1 rounded-full",children:Gt}),d&&Object(l.jsx)(ha,{onClick:function(){return T(e._id)},cancle:L}),Object(l.jsx)(Ct,{onClick:P,className:"text-red-700 hover:text-red-500 p-2 md:p-1 lg:p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-red-600 inline-block text-center transition-colors ease-in-out ml-1 rounded-full"})]})})]},e._id)}))})]}),Object(l.jsx)(Re,{current:x,pageSize:f,total:h,history:a,isAdmin:!0})]})]})},Ea=function(e){var t=e.text,a=e.onChange,r=e.uploading,s=e.value;return Object(l.jsxs)("div",{className:"my-2",children:[Object(l.jsx)("label",{className:"mb-2 inline-block text-gray-700 capitalize ttext-sm sm:text-base md:text-sm lg:text-base",children:t}),r||Object(l.jsxs)("label",{className:"flex justify-between items-center w-full text-sm font-normal py-3 px-6 md:py-2 md:px-4 lg:py-3 lg:px-6 text-gray-600 bg-gray-100 bg-clip-padding border-0 cursor-pointer hover:shadow-sm transition-colors ease-in-out input-h",children:[Object(l.jsx)("span",{className:"text-base leading-normal font-semibold uppercase",children:s||"choose image"}),Object(l.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(l.jsx)("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})}),Object(l.jsx)("input",{type:"file",className:"hidden",name:"image",onChange:a})]})]})},Sa={name:"",price:0,image:"",brand:"",category:"",countInStock:0,description:""},ka=function(e){var t=e.match,a=e.history,s=Object(c.b)(),n=t.params.id,o=Object(r.useState)(Sa),d=Object(u.a)(o,2),p=d[0],x=d[1],j=Object(r.useState)(!1),m=Object(u.a)(j,2),b=m[0],f=m[1],h=Object(c.c)((function(e){return e.productDetails})),v=h.loading,N=h.error,E=h.product,S=Object(c.c)((function(e){return e.productUpdate})),k=S.loading,C=S.error,_=S.success;Object(r.useEffect)((function(){_?(s({type:We}),a.push("/admin/productlist")):E.name&&E._id===n?x({name:E.name,price:E.price,image:E.image,brand:E.brand,category:E.category,countInStock:E.countInStock,description:E.description}):s(nt(n))}),[s,E,n,_,a]);var R=function(e){return x(Object(Ut.a)(Object(Ut.a)({},p),{},Object(Dt.a)({},e.target.name,e.target.value)))},I=function(){var e=Object(y.a)(O.a.mark((function e(t){var a,r,s,n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("image",a),f(!0),e.prev=4,s={headers:{"Content-Type":"multipart/form-data"}},e.next=8,w.a.post("/api/upload",r,s);case 8:n=e.sent,c=n.data,x({image:c}),f(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),f(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){e.preventDefault(),s(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a,r){var s,n,c,i,o,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Je}),s=r(),n=s.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,w.a.put("/api/products/".concat(e._id),e,c);case 6:i=t.sent,o=i.data,a({type:Ye,payload:o}),a({type:ze,payload:o}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(fe()),a({type:Ge,payload:l});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:n,name:p.name,price:p.price,image:p.image,brand:p.brand,category:p.category,countInStock:p.countInStock,description:p.description}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"mt-10",children:Object(l.jsx)(i.b,{to:"/admin/productList",className:"bg-green-900 opacity-70 text-green-100 px-3 py-2 ml-1 uppercase transition-colors ease-in-out focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-800",children:"go back"})}),Object(l.jsxs)(zt,{children:[Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 -ml-1 tracking-widest font-extrabold mt-10",children:"edite product"}),k&&Object(l.jsx)(Ee,{}),C&&Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:C}),type:"error",closable:!0}),v?Object(l.jsx)(Ee,{}):N?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:N}),type:"error",closable:!0}):Object(l.jsxs)("form",{className:"".concat(v&&"hidden"," mt-3"),onSubmit:function(e){return A(e)},children:[Object(l.jsx)(wt,{text:"name",name:"name",type:"text",placeholder:"Enter name",value:p.name,onChange:function(e){return R(e)}}),Object(l.jsx)(wt,{text:"price",name:"price",type:"number",placeholder:"Enter price",value:p.price,onChange:function(e){return R(e)}}),Object(l.jsx)(Ea,{text:"image",onChange:I,uploading:b&&Object(l.jsx)(Ee,{}),value:p.image}),Object(l.jsx)(wt,{text:"brand",name:"brand",type:"text",placeholder:"Enter brand",value:p.brand,onChange:function(e){return R(e)}}),Object(l.jsx)(wt,{text:"countInStock",name:"countInStock",type:"number",placeholder:"Enter countInStock",value:p.countInStock,onChange:function(e){return R(e)}}),Object(l.jsx)(wt,{text:"category",name:"category",type:"text",placeholder:"Enter category",value:p.category,onChange:function(e){return R(e)}}),Object(l.jsx)(wt,{text:"description",name:"description",type:"text",placeholder:"Enter description",value:p.description,onChange:function(e){return R(e)}}),Object(l.jsx)(g,{text:"update"})]})]})]})},Ca=function(e){var t=e.history,a=Object(c.b)(),s=Object(c.c)((function(e){return e.orderList})),n=s.loading,o=s.error,d=s.orders,u=Object(c.c)((function(e){return e.userLogin})).userInfo;return Object(r.useEffect)((function(){u&&u.isAdmin?a(function(){var e=Object(y.a)(O.a.mark((function e(t,a){var r,s,n,c,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:M}),r=a(),s=r.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,w.a.get("/api/orders",n);case 6:c=e.sent,i=c.data,t({type:F,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(fe()),t({type:H,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,u]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"text-lg sm:text-3xl md:text-4xl uppercase text-gray-700 p-1 tracking-widest font-extrabold mt-10",children:"orders"}),n?Object(l.jsx)(Ee,{}):o?Object(l.jsx)(Ce,{message:Object(l.jsx)("span",{className:"text-red-900",children:o}),type:"error"}):Object(l.jsxs)($t,{children:[Object(l.jsx)("thead",{className:"bg-gray-50",children:Object(l.jsx)(Qt,{titles:["id","user","date","total","paid","delivered"]})}),Object(l.jsx)("tbody",{className:"divide-y divide-gray-200 text-gray-700",children:d.map((function(e){return Object(l.jsxs)("tr",{className:"hover:bg-gray-100",children:[Object(l.jsx)(Vt,{item:e._id}),Object(l.jsx)(Vt,{item:e.user&&e.user.name}),Object(l.jsx)(Vt,{item:e.createdAt.substring(0,10)}),Object(l.jsx)(Vt,{item:"$".concat(e.totalPrice)}),Object(l.jsx)(Vt,{item:e.isPaid?e.paidAt.substring(0,10):Yt}),Object(l.jsx)(Vt,{item:e.isDelivered?e.deliveredAt.substring(0,10):Yt}),Object(l.jsx)(Vt,{item:Object(l.jsx)("span",{className:"w-full max-w-full inline-flex items-center",children:Object(l.jsx)(i.b,{to:"/order/".concat(e._id),className:"bg-blue-700 opacity-80 text-gray-100 uppercase px-4 py-1 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-600 hover:opacity-100 inline-block text-center transition-colors ease-in-out",children:"details"})})})]},e._id)}))})]})]})},_a=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(Oe,{}),Object(l.jsxs)("main",{className:"mx-auto container p-3 font-nunito leading-relaxed overflow-hidden",children:[Object(l.jsx)(o.a,{path:"/login",component:Ht}),Object(l.jsx)(o.a,{path:"/register",component:qt}),Object(l.jsx)(o.a,{path:"/profile",component:Xt}),Object(l.jsx)(o.a,{path:"/admin/userList",component:Oa}),Object(l.jsx)(o.a,{path:"/admin/user/:id/edit",component:wa}),Object(l.jsx)(o.a,{path:"/admin/productList",component:Na,exact:!0}),Object(l.jsx)(o.a,{path:"/admin/productList/:pageNumber",component:Na,exact:!0}),Object(l.jsx)(o.a,{path:"/admin/product/:id/edit",component:ka}),Object(l.jsx)(o.a,{path:"/product/:id",component:Nt}),Object(l.jsx)(o.a,{path:"/cart/:id?",component:Lt}),Object(l.jsx)(o.a,{path:"/shipping",component:ia}),Object(l.jsx)(o.a,{path:"/payment",component:da}),Object(l.jsx)(o.a,{path:"/placeorder",component:ba}),Object(l.jsx)(o.a,{path:"/order/:id",component:fa}),Object(l.jsx)(o.a,{path:"/admin/orderList",component:Ca}),Object(l.jsx)(o.a,{path:"/search/:keyword",component:dt,exact:!0}),Object(l.jsx)(o.a,{path:"/page/:pageNumber",component:dt,exact:!0}),Object(l.jsx)(o.a,{path:"/search/:keyword/page/:pageNumber",component:dt,exact:!0}),Object(l.jsx)(o.a,{path:"/",component:dt,exact:!0})]}),Object(l.jsx)(d,{})]})})},Ra=a(46),Ia=a(110),Aa=a(111),Ta=Object(Ra.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return{loading:!0,products:[],pageSize:10};case Le:return{loading:!1,products:t.payload.products,pageSize:t.payload.pageSize,total:t.payload.total};case De:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(Ut.a)(Object(Ut.a)({},e),{},{loading:!0});case ze:return{loading:!1,product:t.payload};case Me:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{loading:!0};case He:return{loading:!1,success:!0};case Be:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{loading:!0};case Qe:return{loading:!1,success:!0,product:t.payload};case Ve:return{loading:!1,error:t.payload};case $e:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return{loading:!0};case Ye:return{loading:!1,success:!0,product:t.payload};case Ge:return{loading:!1,error:t.payload};case We:return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return{loading:!0};case Xe:return{loading:!1,success:!0};case Ze:return{loading:!1,error:t.payload};case et:return{};default:return e}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return{loading:!0,products:[]};case at:return{loading:!1,products:t.payload};case rt:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:var a=t.payload,r=e.cartItems.find((function(e){return e.product===a.product}));return r?Object(Ut.a)(Object(Ut.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?a:e}))}):Object(Ut.a)(Object(Ut.a)({},e),{},{cartItems:[].concat(Object(ut.a)(e.cartItems),[a])});case It:return Object(Ut.a)(Object(Ut.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case At:return Object(Ut.a)(Object(Ut.a)({},e),{},{shippingAddress:t.payload});case Tt:return Object(Ut.a)(Object(Ut.a)({},e),{},{paymentMethod:t.payload});case Rt:return Object(Ut.a)(Object(Ut.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case J:return{loading:!1,userInfo:t.payload};case Y:return{loading:!1,error:t.payload};case G:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case K:return{loading:!1,userInfo:t.payload};case X:return{loading:!1,error:t.payload};case G:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(Ut.a)(Object(Ut.a)({},e),{},{loading:!0});case ee:return{loading:!1,user:t.payload};case te:return{loading:!1,error:t.payload};case ae:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{loading:!0};case se:return{loading:!1,success:!0,userInfo:t.payload};case ne:return{loading:!1,error:t.payload};case ce:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case oe:return{loading:!1,users:t.payload};case le:return{loading:!1,error:t.payload};case de:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case pe:return{loading:!1,success:!0};case xe:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return{loading:!0};case me:return{loading:!1,success:!0};case be:return{loading:!1,error:t.payload};case ge:return{user:{}};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case E:return{loading:!1,success:!0,order:t.payload};case S:return{loading:!1,error:t.payload};case k:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(Ut.a)(Object(Ut.a)({},e),{},{loading:!0});case _:return{loading:!1,order:t.payload};case R:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case A:return{loading:!1,success:!0};case T:return{loading:!1,error:t.payload};case P:return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case q:return{loading:!1,success:!0};case Q:return{loading:!1,error:t.payload};case V:return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case D:return{loading:!1,orders:t.payload};case U:return{loading:!1,error:t.payload};case z:return{orders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{loading:!0};case F:return{loading:!1,orders:t.payload};case H:return{loading:!1,error:t.payload};default:return e}}}),Pa=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],La=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Da=localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},Ua=localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):"",za=[Ia.a],Ma={cart:{cartItems:Pa,shippingAddress:Da,paymentMethod:Ua},userLogin:{userInfo:La}},Fa=Object(Ra.createStore)(Ta,Ma,Object(Aa.composeWithDevTools)(Ra.applyMiddleware.apply(void 0,za)));a(155),a(156);n.a.render(Object(l.jsx)(c.a,{store:Fa,children:Object(l.jsx)(_a,{})}),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.65f4de97.chunk.js.map